== Estados da encomenda

[plantuml, tomates, svg]
----
(*) -> "LNS-C-10"
"LNS-C-12-54\nAction : checkNeedNewRessources" -> "LNS-C-12-54\nAction : checkNeedNewRessources"
"LNS-C-12-54\nAction : checkNeedNewRessources" -> "LNS-C-12-54-01\nAction : demandeIntervention"
"LNS-C-12-54-01\nAction : demandeIntervention" -> "LNS-C-12-54\nAction : checkNeedNewRessources"
"LNS-C-12-53-10" -> "LNS-C-12-53-10"
"LNS-C-12-40\nAction : demandeIntervention" -> "LNS-C-ERROR\n\'Terminee en erreur\'"
"LNS-C-110\nAction : demandeIntervention" -> "LNS-C-100\nAction : getServiceAttrFromNrmIdOnCancel"
"LNS-C-140-02\nAction : force_lns_current" -> "LNS-C-160\nAction : majb2000OnCreate"
"LNS-C-15\n" -> "LNS-C-ERROR\n\'Terminee en erreur\'"
"LNS-C-12-53-10\n" -> "LNS-C-12-54\nAction : checkNeedNewRessources"
"LNS-C-195\nAction : manageOdyLine" -> "LNS-C-195\nAction : manageOdyLine"
"LNS-C-10" -> "LNS-C-10-01\nAction : checkReconquetePa"
"LNS-C-178\nAction : compensation_doublon" -> "LNS-C-178-INTERV\nAction : demandeIntervention"
"LNS-C-17\nAction : checkInfosConstit" -> "LNS-C-18\nAction : demandeIntervention"
"LNS-C-120\nAction : deleteServiceLnsOnCancel" -> "LNS-C-ERROR\n\'Terminee en erreur\'"
"LNS-C-180\nAction : checkOperateurIDCmdParam" -> "LNS-C-180\nAction : checkOperateurIDCmdParam"
"LNS-C-44\nAction : compensation_doublon" -> "LNS-C-40\nAction : addServiceLnsToUser"
"LNS-C-160\nAction : majb2000OnCreate" -> "LNS-C-160\nAction : majb2000OnCreate"
"LNS-C-140\nAction : forceNrmIdInCurrent" -> "LNS-C-160\nAction : majb2000OnCreate"
"LNS-C-10-02\nAction : demandeIntervention" -> "LNS-C-10-01\nAction : checkReconquetePa"
"LNS-C-12-10\nAction : checkDemenagementOnCreate" -> "LNS-C-12-10\nAction : checkDemenagementOnCreate"
"LNS-C-12-80\nAction : majb2000OnDeleteOld" -> "LNS-C-12-90\nAction : demandeIntervention"
"LNS-C-12-90\nAction : demandeIntervention" -> "LNS-C-12-80\nAction : majb2000OnDeleteOld"
"LNS-C-12-30\nAction : checkDemenagementOnCreate" -> "LNS-C-16\nAction : checkTypeCollecte"
"LNS-C-30\nAction : demandeIntervention" -> "LNS-C-ERROR\n\'Terminee en erreur\'"
"LNS-C-10-1" -> "LNS-C-12-10\nAction : checkDemenagementOnCreate"
"LNS-C-20\nAction : manageAllocateIp" -> "LNS-C-20\nAction : manageAllocateIp"
"LNS-C-220\nAction : createOdylLine" -> "LNS-C-230\nAction : demandeIntervention"
"LNS-C-80\nAction : allIpDeleteOnCancel" -> "LNS-C-100\nAction : getServiceAttrFromNrmIdOnCancel"
"LNS-C-40\nAction : addServiceLnsToUser" -> "LNS-C-44\nAction : compensation_doublon"
"LNS-C-100\nAction : getServiceAttrFromNrmIdOnCancel" -> "LNS-C-100\nAction : getServiceAttrFromNrmIdOnCancel"
"LNS-C-40\nAction : addServiceLnsToUser" -> "LNS-C-40\nAction : addServiceLnsToUser"
"LNS-C-10-01\nAction : checkReconquetePa" -> "LNS-C-10-1"
"LNS-C-130\nAction : demandeIntervention" -> "LNS-C-120\nAction : deleteServiceLnsOnCancel"
"LNS-C-17\nAction : checkInfosConstit" -> "LNS-C-17\nAction : checkInfosConstit"
"LNS-C-12-10\nAction : checkDemenagementOnCreate" -> "LNS-C-12-20\nAction : demandeIntervention"
"LNS-C-80\nAction : allIpDeleteOnCancel" -> "LNS-C-90\nAction : demandeIntervention"
"LNS-C-160\nAction : majb2000OnCreate" -> "LNS-C-170\nAction : demandeIntervention"
"LNS-C-171\nAction : checkTypeCollecte" -> "LNS-C-171-01\nAction : demandeIntervention"
"LNS-C-12-80\nAction : majb2000OnDeleteOld" -> "LNS-C-12-80\nAction : majb2000OnDeleteOld"
"LNS-C-12-55\nAction : demandeIntervention" -> "LNS-C-ERROR\n\'Terminee en erreur\'"
"LNS-C-175\nAction : manageConstit" -> "LNS-C-177\nAction : updateServiceLnsToUser"
"LNS-C-16-01\nAction : demandeIntervention" -> "LNS-C-16\nAction : checkTypeCollecte"
"LNS-C-12-60\nAction : majb2000OnCreate" -> "LNS-C-12-70\nAction : demandeIntervention"
"LNS-C-10-02\nAction : demandeIntervention" -> "LNS-C-ERROR\n\'Terminee en erreur\'"
"LNS-C-200\nAction : getServiceProduct" -> "LNS-C-210\nAction : demandeIntervention"
"LNS-C-171\nAction : checkTypeCollecte" -> "LNS-C-171\nAction : checkTypeCollecte"
"LNS-C-46\nAction : demandeIntervention" -> "LNS-C-40\nAction : addServiceLnsToUser"
"LNS-C-44\nAction : compensation_doublon" -> "LNS-C-44\nAction : compensation_doublon"
"LNS-C-17\nAction : checkInfosConstit" -> "LNS-C-20\nAction : manageAllocateIp"
"LNS-C-177\nAction : updateServiceLnsToUser" -> "LNS-C-180\nAction : checkOperateurIDCmdParam"
"LNS-C-10-01\nAction : checkReconquetePa" -> "LNS-C-10-01\nAction : checkReconquetePa"
"LNS-C-12-20\nAction : demandeIntervention" -> "LNS-C-ERROR\n\'Terminee en erreur\'"
"LNS-C-17\nAction : checkInfosConstit" -> "LNS-C-ERROR\n\'Terminee en erreur\'"
"LNS-C-40\nAction : addServiceLnsToUser" -> "LNS-C-50\nAction : demandeIntervention"
"LNS-C-100\nAction : getServiceAttrFromNrmIdOnCancel" -> "LNS-C-120\nAction : deleteServiceLnsOnCancel"
"LNS-C-120\nAction : deleteServiceLnsOnCancel" -> "LNS-C-120\nAction : deleteServiceLnsOnCancel"
"LNS-C-176\nAction : demandeIntervention" -> "LNS-C-175\nAction : manageConstit"
"LNS-C-177\nAction : updateServiceLnsToUser" -> "LNS-C-177\nAction : updateServiceLnsToUser"
"LNS-C-220\nAction : createOdylLine" -> "LNS-C-SUCCESS"
"LNS-C-16\nAction : checkTypeCollecte" -> "LNS-C-20\nAction : manageAllocateIp"
"LNS-C-171\nAction : checkTypeCollecte" -> "LNS-C-180\nAction : checkOperateurIDCmdParam"
"LNS-C-230\nAction : demandeIntervention" -> "LNS-C-220\nAction : createOdylLine"
"LNS-C-20\nAction : manageAllocateIp" -> "LNS-C-30\nAction : demandeIntervention"
"LNS-C-12-53-10" -> "LNS-C-12-60\nAction : majb2000OnCreate"
"LNS-C-55" -> "LNS-C-135\nAction : clotureAdslAction"
"LNS-C-178\nAction : compensation_doublon" -> "LNS-C-178\nAction : compensation_doublon"
"LNS-C-12-54\nAction : checkNeedNewRessources" -> "LNS-C-15\n"
"LNS-C-30\nAction : demandeIntervention" -> "LNS-C-20\nAction : manageAllocateIp"
"LNS-C-175\nAction : manageConstit" -> "LNS-C-176\nAction : demandeIntervention"
"LNS-C-90\nAction : demandeIntervention" -> "LNS-C-80\nAction : allIpDeleteOnCancel"
"LNS-C-15\n" -> "LNS-C-16\nAction : checkTypeCollecte"
"LNS-C-170\nAction : demandeIntervention" -> "LNS-C-160\nAction : majb2000OnCreate"
"LNS-C-40\nAction : addServiceLnsToUser" -> "LNS-C-55"
"LNS-C-10-1" -> "LNS-C-12-30\nAction : checkDemenagementOnCreate"
"LNS-C-195\nAction : manageOdyLine" -> "LNS-C-200\nAction : getServiceProduct"
"LNS-C-12-30\nAction : checkDemenagementOnCreate" -> "LNS-C-12-40\nAction : demandeIntervention"
"LNS-C-12-30\nAction : checkDemenagementOnCreate" -> "LNS-C-12-53\nAction : getNrmIdOnDem"
"LNS-C-12-53-10\n" -> "LNS-C-ERROR\n\'Terminee en erreur\'"
"LNS-C-12-55\nAction : demandeIntervention" -> "LNS-C-12-53\nAction : getNrmIdOnDem"
"LNS-C-15" -> "LNS-C-16\nAction : checkTypeCollecte"
"LNS-C-180\nAction : checkOperateurIDCmdParam" -> "LNS-C-200\nAction : getServiceProduct"
"LNS-C-12-53-10" -> "LNS-C-ERROR\n\'Terminee en erreur\'"
"LNS-C-80\nAction : allIpDeleteOnCancel" -> "LNS-C-80\nAction : allIpDeleteOnCancel"
"LNS-C-12-80\nAction : majb2000OnDeleteOld" -> "LNS-C-SUCCESS"
"LNS-C-12-60\nAction : majb2000OnCreate" -> "LNS-C-12-80\nAction : majb2000OnDeleteOld"
"LNS-C-20\nAction : manageAllocateIp" -> "LNS-C-40\nAction : addServiceLnsToUser"
"LNS-C-200\nAction : getServiceProduct" -> "LNS-C-220\nAction : createOdylLine"
"LNS-C-177\nAction : updateServiceLnsToUser" -> "LNS-C-177-INTERV\nAction : demandeIntervention"
"LNS-C-12-70\nAction : demandeIntervention" -> "LNS-C-12-60\nAction : majb2000OnCreate"
"LNS-C-10-01\nAction : checkReconquetePa" -> "LNS-RCQ-10"
"LNS-C-12-10\nAction : checkDemenagementOnCreate" -> "LNS-C-15"
"LNS-C-160\nAction : majb2000OnCreate" -> "LNS-C-171\nAction : checkTypeCollecte"
"LNS-C-12-60\nAction : majb2000OnCreate" -> "LNS-C-12-60\nAction : majb2000OnCreate"
"LNS-C-171-01\nAction : demandeIntervention" -> "LNS-C-171\nAction : checkTypeCollecte"
"LNS-C-44\nAction : compensation_doublon" -> "LNS-C-46\nAction : demandeIntervention"
"LNS-C-210\nAction : demandeIntervention" -> "LNS-C-200\nAction : getServiceProduct"
"LNS-C-10-01\nAction : checkReconquetePa" -> "LNS-C-10-02\nAction : demandeIntervention"
"LNS-C-120\nAction : deleteServiceLnsOnCancel" -> "LNS-C-130\nAction : demandeIntervention"
"LNS-C-60" -> "LNS-C-80\nAction : allIpDeleteOnCancel"
"LNS-C-135\nAction : clotureAdslAction" -> "LNS-C-140\nAction : forceNrmIdInCurrent"
"LNS-C-12-53\nAction : getNrmIdOnDem" -> "LNS-C-12-53\nAction : getNrmIdOnDem"
"LNS-C-220\nAction : createOdylLine" -> "LNS-C-220\nAction : createOdylLine"
"LNS-C-180\nAction : checkOperateurIDCmdParam" -> "LNS-C-195\nAction : manageOdyLine"
"LNS-C-15" -> "LNS-C-ERROR\n\'Terminee en erreur\'"
"LNS-C-12-54-01\nAction : demandeIntervention" -> "LNS-C-ERROR\n\'Terminee en erreur\'"
"LNS-C-178\nAction : compensation_doublon" -> "LNS-C-177\nAction : updateServiceLnsToUser"
"LNS-C-18\nAction : demandeIntervention" -> "LNS-C-ERROR\n\'Terminee en erreur\'"
"LNS-C-60" -> "LNS-C-140\nAction : forceNrmIdInCurrent"
"LNS-C-55" -> "LNS-C-60"
"LNS-C-100\nAction : getServiceAttrFromNrmIdOnCancel" -> "LNS-C-110\nAction : demandeIntervention"
"LNS-C-50\nAction : demandeIntervention" -> "LNS-C-40\nAction : addServiceLnsToUser"
"LNS-C-50\nAction : demandeIntervention" -> "LNS-C-80\nAction : allIpDeleteOnCancel"
"LNS-C-10-01\nAction : checkReconquetePa" -> "LNS-C-10-01\nAction : checkReconquetePa"
"LNS-C-178-INTERV\nAction : demandeIntervention" -> "LNS-C-177\nAction : updateServiceLnsToUser"
"LNS-C-175\nAction : manageConstit" -> "LNS-C-175\nAction : manageConstit"
"LNS-C-140\nAction : forceNrmIdInCurrent" -> "LNS-C-140-02\nAction : force_lns_current"
"LNS-C-171\nAction : checkTypeCollecte" -> "LNS-C-175\nAction : manageConstit"
"LNS-C-12-53\nAction : getNrmIdOnDem" -> "LNS-C-12-53-10\n"
"LNS-C-12-30\nAction : checkDemenagementOnCreate" -> "LNS-C-12-30\nAction : checkDemenagementOnCreate"
"LNS-C-12-54\nAction : checkNeedNewRessources" -> "LNS-C-12-53-10"
"LNS-C-10-1" -> "LNS-C-ERROR\n\'Terminee en erreur\'"
"LNS-C-12-53\nAction : getNrmIdOnDem" -> "LNS-C-12-55\nAction : demandeIntervention"
"LNS-C-12-40\nAction : demandeIntervention" -> "LNS-C-12-30\nAction : checkDemenagementOnCreate"
"LNS-C-16\nAction : checkTypeCollecte" -> "LNS-C-16-01\nAction : demandeIntervention"
"LNS-C-16\nAction : checkTypeCollecte" -> "LNS-C-17\nAction : checkInfosConstit"
"LNS-C-177\nAction : updateServiceLnsToUser" -> "LNS-C-178\nAction : compensation_doublon"
"LNS-C-12-10\nAction : checkDemenagementOnCreate" -> "LNS-C-12-53\nAction : getNrmIdOnDem"
"LNS-C-177-INTERV\nAction : demandeIntervention" -> "LNS-C-177\nAction : updateServiceLnsToUser"
"LNS-C-200\nAction : getServiceProduct" -> "LNS-C-200\nAction : getServiceProduct"
"LNS-C-195\nAction : manageOdyLine" -> "LNS-C-SUCCESS"
"LNS-C-16-01\nAction : demandeIntervention" -> "LNS-C-ERROR\n\'Terminee en erreur\'"
"LNS-C-18\nAction : demandeIntervention" -> "LNS-C-17\nAction : checkInfosConstit"
"LNS-C-16\nAction : checkTypeCollecte" -> "LNS-C-16\nAction : checkTypeCollecte"
"LNS-C-12-20\nAction : demandeIntervention" -> "LNS-C-12-10\nAction : checkDemenagementOnCreate"
"LNS-C-20\nAction : manageAllocateIp" -> "LNS-C-21\nAction: SetServiceIdInAdslAction"
"LNS-C-21\nAction: SetServiceIdInAdslAction" -> "LNS-C-40\nAction : addServiceLnsToUser"
"LNS-C-21\nAction: SetServiceIdInAdslAction" -> "LNS-C-21-INTERV\nAction : demande_interv"
"LNS-C-21-INTERV\nAction : demande_interv" -> "LNS-C-21\nAction: SetServiceIdInAdslAction"
"LNS-C-21-INTERV\nAction : demande_interv" -> "LNS-C-80\nAction : allIpDeleteOnCancel"
"LNS-C-21\nAction: SetServiceIdInAdslAction" -> "LNS-C-21\nAction: SetServiceIdInAdslAction"
"LNS-C-SUCCESS" -> (*)
----


== Estados da encomenda
[plantuml, stados, svg]
----
[*] -> REQUESTED
REQUESTED        --> CANCELLED :FM, FC
REQUESTED        --> PREPEARING :FC
PREPEARING       --> READY :FC (se não sync)
PREPEARING       --> CANCELLED :FM
READY            --> DELIVERED :FM
DELIVERED        --> DELIVERED_MISSED :C
DELIVERED_MISSED --> DELIVERED :FM
DELIVERED        --> PAID :FM
PAID             --> [*]
CANCELLED        --> [*]
----
